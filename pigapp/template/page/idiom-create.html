{{define "page-idiom-create"}}
{{template "prologue"}}  
{{template "head" .PageMeta}}  
<body>  
<div class="page-holder">
	{{template "header-small" .}}  
	<div class="page-content container-fluid">
	
		<div class="row-fluid">
			<div class="span6">
				<form class="form-horizontal form-idiom-creation" action="{{hostPrefix}}/idiom-save" method="POST">
					<fieldset>
						<legend>Idiom</legend>
						<div class="control-group">
							<label class="control-label" for="idiom_title">Title</label>
							<div class="controls">
								<input type="text" name="idiom_title" class="input-xlarge" maxlength="120"
									placeholder="Your concise idiom title" required="required" />
								<div class="">
									An idiom statement must be expressed in generic terms ; It cannot be specific to one or few programming languages.
								</div>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="idiom_lead">Lead paragraph</label>
							<div class="controls">
								<textarea name="idiom_lead" rows="3" class="input-xxlarge"
									placeholder="Describe this idiom purpose (if needed)"
									maxlength="500"></textarea>
								<div>Syntax to emphasize a name: <span>_x &rarr; <b><i>x</b></i></span></div>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="idiom_keywords">Extra keywords</label>
							<div class="controls">
								<input type="text" name="idiom_keywords" class="input-xlarge" maxlength="120"
									placeholder="Important related words" />
								<div class="">
									Optional keywords, that are not already found in Title and Lead. Used for indexation and search.
								</div>
							</div>
						</div>
						{{/* See idiom-add-picture.html
						<div class="control-group">
							<label class="control-label" for="idiom_picture">Picture</label>
							<div class="controls">
								<input type="file" name="idiom_picture" class="input-xlarge" />
							</div>
						</div>
						*/}}
					</fieldset>
					<fieldset>
						<legend>First implementation</legend>
						<div class="control-group">
							<label class="control-label" for="impl_language">Language</label>
							<div class="controls">
								{{template "language-single-select" .}}
								<div class="help-inline under-the-value"></div>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="impl_imports">Imports</label>
							<div class="controls">
								<textarea name="impl_imports" rows="2" 
									class="input-xlarge imports"
									placeholder="Import statements (optional)" 
									spellcheck="false"
									maxlength="500"></textarea>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="impl_code">Code</label>
							<div class="controls">
								<textarea name="impl_code" rows="8" class="impl-code input-xxlarge"
									data-toggle="popover" title="Explain stuff" data-placement="right"
									data-content="<textarea name='impl_comment' placeholder='Put your comments here
									(not in the code)' rows='4' maxlength='500'></textarea><div>To emphasize a name: <span>_x &rarr; <b><i>x</b></i></span></div>"
									placeholder="Implementation:    goto here" required="required"
									spellcheck="false"
									maxlength="500"></textarea>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="impl_doc_url">Documentation URL</label>
							<div class="controls">
								<input type="text" name="impl_doc_url" class="input-xlarge" maxlength="250"
									placeholder="e.g. https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf%28java.lang.String%29"/>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="impl_attribution_url">Original attribution URL</label>
							<div class="controls">
								<input type="text" name="impl_attribution_url" class="input-xlarge" maxlength="250"
									data-toggle="popover"
									data-content="Please be fair if you are using someone's work"
									placeholder="e.g. https://en.wikipedia.org/wiki/Schwartzian_transform#The_Perl_idiom" />
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="impl_demo_url">Online runnable demo</label>
							<div class="controls">
								<input type="text" name="impl_demo_url" class="input-xlarge" maxlength="250"
									placeholder="e.g. https://play.golang.org/p/1b2SQjo9iL" />
							</div>
						</div>
						{{template "input-username" .UserProfile.Nickname}}
						{{/* TODO dynamic controls, if i have the courage
						<button class="btn btn-primary">New implementation</button>
						*/}}
						<div class="control-group">
							<div class="controls">
								<button class="btn btn-idiom-create-preview">Preview</button>
								{{template "save-button-with-notice"}}
							</div>
						</div>
					</fieldset>
				</form>
			</div>
			<div class="span2">
				{{/* Empty space for form popovers */}}
			</div>			
			<div class="span3">
				{{template "contribution-rules-small-info"}}
			</div>
		</div>
	
	</div>
{{template "footer" .}}
{{template "modal-idiom-preview"}}
{{template "include-js" .}}
</div>  
</body>
{{template "close-html"}}
{{end}}